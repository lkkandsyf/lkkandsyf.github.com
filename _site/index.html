

        <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
    
    
    
    
    <title>liangkangkang's Blog</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="liangkangkang">
    

    
    <!--<%- open_graph({twitter_id: theme.author.twitter, google_plus: theme.author.google_plus}) %>-->
    
    <meta name="description" content="page.description">
    
    <meta property="og:type" content="website">
    
    <meta property="og:title" content="">
    <meta property="og:url" content="/">
    <meta property="og:site_name" content="liangkangkang's Blog">
    <meta property="og:description" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="">
    <meta name="twitter:description" content="page.description">
    <meta name="twitter:creator" content="@liangkangkang">
    <link rel="publisher" href="">

    
    <link rel="alternative" href="/atom.xml" title="liangkangkang's Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/assets/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/assets/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/assets/img/jacman.jpg">
    

    <link rel="stylesheet" href="/assets/css/style.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/highlight.css" type="text/css">
    
</head>

  <body>
    <header>
        <div>
		    
			<div id="imglogo">
				<a href="/"><img src="/assets/img/logo.png" alt="liangkangkang's Blog" title="liangkangkang's Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="liangkangkang's Blog">liangkangkang's Blog</a></h1>
				<h2 class="blog-motto">understand yourself 既生而为人，就要承担，安然接受人生可能发生的一切</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="/search/" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>	
</div>
    </header>
    <div id="container">
      <div id="main">

  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/net/2017/04/10/out-of-wall" title="use XX-net to brower to foreign files" itemprop="url">use XX-net to brower to foreign files</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2017-04-10 00:00:00 +0800" itemprop="datePublished">  2017-04-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>solution to look out of the China web</p>

        
        
        <p class="article-more-link">
          
            <a href="/net/2017/04/10/out-of-wall#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
  <a class="article-category-link" href="/categories/#net">net</a>
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  <a href="/tags/#xx-net">xx-net</a>
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/net/2017/04/10/out-of-wall#comments" class="ds-thread-count comments-count-link" data-thread-key="/net/2017/04/10/out-of-wall" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>






  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/program/2016/12/17/function-overload-and-match" title="C++ 函数重载与函数匹配" itemprop="url">C++ 函数重载与函数匹配</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2016-12-17 00:00:00 +0800" itemprop="datePublished">  2016-12-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>《C++ Primer》笔记，整理关于函数重载与函数匹配的笔记。</p>

        
        
        <p class="article-more-link">
          
            <a href="/program/2016/12/17/function-overload-and-match#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
  <a class="article-category-link" href="/categories/#Program">Program</a>
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  <a href="/tags/#cpp">cpp</a>
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/program/2016/12/17/function-overload-and-match#comments" class="ds-thread-count comments-count-link" data-thread-key="/program/2016/12/17/function-overload-and-match" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>






  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/program/2016/11/21/function-matching-and-argument-deduction" title="C++ 函数匹配及实参推断" itemprop="url">C++ 函数匹配及实参推断</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2016-11-21 00:00:00 +0800" itemprop="datePublished">  2016-11-21</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>记录一下函数重载、函数匹配、名字查找与实参类型推断的规则。</p>

        
        
        <p class="article-more-link">
          
            <a href="/program/2016/11/21/function-matching-and-argument-deduction#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
  <a class="article-category-link" href="/categories/#Program">Program</a>
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  <a href="/tags/#cpp">cpp</a>
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/program/2016/11/21/function-matching-and-argument-deduction#comments" class="ds-thread-count comments-count-link" data-thread-key="/program/2016/11/21/function-matching-and-argument-deduction" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>






  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/program/2016/11/14/cpp-literal" title="C++ 字面值常量" itemprop="url">C++ 字面值常量</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2016-11-14 00:00:00 +0800" itemprop="datePublished">  2016-11-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>在类型转换和函数匹配中，字面值类型也是非常值得关注的。</p>

        
        
        <p class="article-more-link">
          
            <a href="/program/2016/11/14/cpp-literal#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
  <a class="article-category-link" href="/categories/#Program">Program</a>
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  <a href="/tags/#cpp">cpp</a>
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/program/2016/11/14/cpp-literal#comments" class="ds-thread-count comments-count-link" data-thread-key="/program/2016/11/14/cpp-literal" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>






  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/program/2016/11/13/cpp-type-conversion" title="C++ 类型转换" itemprop="url">C++ 类型转换</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2016-11-13 00:00:00 +0800" itemprop="datePublished">  2016-11-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>C++的类型转换比较杂，看了又忘，再看也忘。在此，总结了一下。</p>

        
        
        <p class="article-more-link">
          
            <a href="/program/2016/11/13/cpp-type-conversion#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
  <a class="article-category-link" href="/categories/#Program">Program</a>
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  <a href="/tags/#cpp">cpp</a>
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/program/2016/11/13/cpp-type-conversion#comments" class="ds-thread-count comments-count-link" data-thread-key="/program/2016/11/13/cpp-type-conversion" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>






  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/15/Resume" title="Resume" itemprop="url">Resume</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2016-10-15 00:00:00 +0800" itemprop="datePublished">  2016-10-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><center> Resume</center></p>

        
        
        <p class="article-more-link">
          
            <a href="/2016/10/15/Resume#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/15/Resume#comments" class="ds-thread-count comments-count-link" data-thread-key="/2016/10/15/Resume" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>






  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/c/2016/09/01/Macro" title="Macro" itemprop="url">Macro</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2016-09-01 00:00:00 +0800" itemprop="datePublished">  2016-09-01</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="toc_0">宏定义</h1>

        
        
        <p class="article-more-link">
          
            <a href="/c/2016/09/01/Macro#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
  <a class="article-category-link" href="/categories/#C">C</a>
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  <a href="/tags/#Macro">Macro</a>
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/c/2016/09/01/Macro#comments" class="ds-thread-count comments-count-link" data-thread-key="/c/2016/09/01/Macro" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>






  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/09/01/Git" title="Git" itemprop="url">Git</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2016-09-01 00:00:00 +0800" itemprop="datePublished">  2016-09-01</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>摘要：　这是对编程资料--git的汇总。</p>

<!-- more -->

<h2 id="toc_0">汇总</h2>

<ul>
<li><a href="https://github.com/justjavac/free-programming-books-zh_CN#%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6">免费的编程中文书籍索引--版本控制</a></li>
<li><a href="https://www.zhihu.com/question/36974348?from=profile_question_card">Github上都有哪些有用但不为大家熟知的小功能？</a></li>
</ul>

<h2 id="toc_1">入门</h2>

<ul>
<li><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰的Git教程</a></li>
<li><a href="https://jwiegley.github.io/git-from-the-bottom-up/">git-from-the-bottom-up</a></li>
<li><a href="http://www.xiaoa.name/blog/2016/02/15/git-recipes/">常见的Git工作流</a></li>
<li><a href="https://github.com/xirong/my-git/blob/master/git-workflow-tutorial.md?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io">git-workflow-tutoria</a></li>
<li><a href="http://www.yangzhiping.com/tech/github.html">如何高效利用GitHub</a></li>
<li><a href="http://blog.csdn.net/ithomer/article/details/7527877"> Git 版本管理工具（一） </a></li>
<li><a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html">Git远程操作详解</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2012/07/git.html">Git分支管理策略</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2015/08/git-use-process.html">Git 使用规范流程</a></li>
</ul>

<h2 id="toc_2">常用命令</h2>

<ul>
<li><a href="http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html">常用 Git 命令清单</a></li>
<li><a href="http://blog.csdn.net/ithomer/article/details/7529022">Git 常用命令详解（二） </a></li>
<li><a href="http://blog.csdn.net/ithomer/article/details/7529841"> Git 常用命令速查表（三） </a></li>
</ul>

<h2 id="toc_3">书籍手册</h2>

<ul>
<li><a href="https://git-scm.com/book/zh/v2">Pro Git</a></li>
<li><a href="https://0532.gitbooks.io/progit/content/">Pro Git中文版</a></li>
<li><a href="http://www.worldhello.net/gotgithub/index.html">GotGitHub</a></li>
<li><a href="http://gitref.org/zh/index.html">Git 参考手册</a></li>
<li><a href="https://github.com/pluralsight/git-internals-pdf">Git Internals PDF</a></li>
</ul>

<h2 id="toc_4">其它</h2>

<ul>
<li><a href="http://my.oschina.net/xdev/blog/114383">图解Git[强烈推荐]</a></li>
<li><a href="http://www.cnblogs.com/hutaoer/archive/2013/05/07/git_checkout.html">git checkout 命令详解</a></li>
</ul>

        
        
        <p class="article-more-link">
          
            <a href="/2016/09/01/Git#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/09/01/Git#comments" class="ds-thread-count comments-count-link" data-thread-key="/2016/09/01/Git" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>






  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/life/2016/09/01/Do-thing" title="Do Thing" itemprop="url">Do Thing</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2016-09-01 00:00:00 +0800" itemprop="datePublished">  2016-09-01</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>learn life</p>

        
        
        <p class="article-more-link">
          
            <a href="/life/2016/09/01/Do-thing#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
  <a class="article-category-link" href="/categories/#life">life</a>
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  <a href="/tags/#method">method</a>
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/life/2016/09/01/Do-thing#comments" class="ds-thread-count comments-count-link" data-thread-key="/life/2016/09/01/Do-thing" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>






  
  
  
  
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/09/01/Design-Mode" title="Design Mode" itemprop="url">Design Mode</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="liangkangkang" target="_blank" itemprop="author">liangkangkang</a>
		
  <p class="article-time">
    <time datetime="2016-09-01 00:00:00 +0800" itemprop="datePublished">  2016-09-01</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="toc_0">Overview</h1>

<p>这里整理一些常用的设计模式，需要的时候，可以查看一下。</p>

<h2 id="toc_1">Factory</h2>

<h2 id="toc_2">Abstract Factory</h2>

<h2 id="toc_3">Builder</h2>

<h2 id="toc_4">Prototype</h2>

<h2 id="toc_5">Singleton</h2>

<p><strong>单例模式 是对<code>全局变量的取代策略</code>。</strong></p>

<p>单例的**目的:**保证每一个类只有<code>一个实例</code>，也就是，<code>无法通过new方法来创建这个类的新实例</code>,并提供<code>一个全局唯一的访问点。</code></p>

<p>单例的**好处:**当一个对象在程序的内部<code>只有一个实例</code>的时候，它可以保证我们不会<code>重复创建</code>，而是<code>始终指向同一个对象</code>,这里是通过类的静态成员变量的静态成员函数来体现。</p>

<p>单例模式通过<code>类本身来管理其唯一实例</code>，这种特性提供了解决问题的方法。<code>唯一的实例是类的一个普通对象</code>，但设计这个类时，让它只能创建一个实例并提供对此实例的全局访问。唯一实例类Singleton在静态成员函数中隐藏创建实例的操作。习惯上把这个成员函数叫做getInstance()，它的<code>返回值是唯一实例的指针.</code></p>

<p>Singleton的唯一实例<code>只能通过getInstance()方法来访问。</code></p>

<p>单例类Singleton有一下特征：</p>

<ul>
<li>它有一个指向<code>唯一实例的静态指针</code>，并且是<code>私有的</code>；</li>
<li>它有一个<code>公有的函数，可以获取这个唯一的实例，并且在需要的时候创建该实例</code>；</li>
<li>它的<code>构造函数是私有的</code>，这样就不能从别处创建该类的实例。</li>
</ul>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre></td><td class="code"><pre><span class="cp">#include &lt;iostream&gt;
</span><span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="cm">/*
 *  Singleton mode define
 */</span>
<span class="n">class</span> <span class="n">Singleton</span>
<span class="p">{</span>
<span class="n">public</span><span class="o">:</span>
    <span class="k">static</span> <span class="n">Singleton</span><span class="o">*</span> <span class="n">getInstance</span><span class="p">();</span>
    <span class="k">static</span> <span class="kt">void</span> <span class="n">Destroy</span><span class="p">();</span>
    <span class="kt">void</span> <span class="nf">print</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"print"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="n">private</span><span class="o">:</span>
    <span class="k">static</span> <span class="n">Singleton</span><span class="o">*</span> <span class="n">pInstance</span><span class="p">;</span><span class="c1">// 静态成员，保存对象的唯一实例
</span> <span class="n">Singleton</span><span class="p">();</span>  <span class="c1">// 私有构造函数，使其无法在类外实例化
</span><span class="p">};</span>


<span class="cm">/*
 *  Singleton mode implement
 */</span>
<span class="n">Singleton</span><span class="o">*</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">pInstance</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

<span class="n">Singleton</span><span class="o">::</span><span class="n">Singleton</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Singleton..."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">Singleton</span><span class="o">*</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">getInstance</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">NULL</span> <span class="o">==</span> <span class="n">pInstance</span><span class="p">){</span>
        <span class="n">pInstance</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Singleton</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">pInstance</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">Destroy</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">delete</span> <span class="n">pInstance</span><span class="p">;</span>
    <span class="n">pInstance</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Destroy..."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**
 *                                            main function
 */</span>
<span class="kt">int</span>
<span class="n">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span><span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">/// 通过全局访问来获取实例
</span> <span class="n">Singleton</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">getInstance</span><span class="p">();</span>

    <span class="n">p</span><span class="o">-&gt;</span><span class="n">print</span><span class="p">();</span>      <span class="c1">// 调用成员函数
</span> <span class="n">Singleton</span><span class="o">::</span><span class="n">Destroy</span><span class="p">();</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>主要优点：</p>

<ul>
<li>提供了对唯一实例的受控访问</li>
<li>由于在系统内存中只有一个对象，因此可以节约资源，对于一些需要频繁创建可销毁的对象，单例模式可以提供系统的性能</li>
<li>允许可变数目的实例</li>
</ul>

<p>主要缺点：</p>

<ul>
<li>由于单例模式没有抽象层，因此单例类的扩展有很大困难</li>
<li>单例类的职责过重，在一定程度上违背了<code>单一职责原则</code></li>
<li>滥用单例带来一些负面的问题，如<code>为了节约资源将数据库连接池对象设计为单例类</code>，可能会<code>导致共享连接池对象程序过多，而出现池溢出</code>；如果实<code>例化的对象长时间，不被利用</code>，系统会认为是<code>垃圾资源而回收，这将导致对象状态的丢失.</code></li>
</ul>

<p><font color="red">应用场景</font></p>

<ul>
<li>1.Windows的Task Manager（任务管理器）就是很典型的单例模式（这个很熟悉吧），想想看，是不是呢，你能打开两个windows task manager吗？ 不信你自己试试看哦~</li>
<li>2.windows的Recycle Bin（回收站）也是典型的单例应用。在整个系统运行过程中，回收站一直维护着仅有的一个实例。</li>
<li>3.网站的计数器，一般也是采用单例模式实现，否则难以同步。</li>
<li>4.应用程序的日志应用，一般都何用单例模式实现，这一般是由于共享的日志文件一直处于打开状态，因为只能有一个实例去操作，否则内容不好追加。</li>
<li>5.Web应用的配置对象的读取，一般也应用单例模式，这个是由于配置文件是共享的资源。</li>
<li>6.数据库连接池的设计一般也是采用单例模式，因为数据库连接是一种数据库资源。数据库软件系统中使用数据库连接池，主要是节省打开或者关闭数据库连接所引起的效率损耗，这种效率上的损耗还是非常昂贵的，因为何用单例模式来维护，就可以大大降低这种损耗。</li>
<li>7.多线程的线程池的设计一般也是采用单例模式，这是由于线程池要方便对池中的线程进行控制。</li>
<li>8.操作系统的文件系统，也是大的单例模式实现的具体例子，一个操作系统只能有一个文件系统。</li>
<li>9.HttpApplication 也是单位例的典型应用。熟悉ASP.Net(IIS)的整个请求生命周期的人应该知道HttpApplication也是单例模式，所有的HttpModule都共享一个HttpApplication实例.</li>
</ul>

<p>总结以上，不难看出：单例模式应用的场景一般发现在以下条件下：</p>

<ul>
<li><code>资源共享的情况下</code>，避免由于<code>资源操作时导致的性能或损耗等</code>。如上述中的日志文件，应用配置。</li>
<li><code>控制资源的情况下</code>，<code>方便资源之间的互相通信。如线程池等</code>。</li>
</ul>

<p><font color="red">note </font></p>

<p><strong>如何实现单例模式？如何避免发生对象的用户复制行为？如何实现线程安全的单例模式？DCLP是什么，有什么问题？</strong></p>

<ul>
<li>将构造函数、析构函数、复制构造函数、赋值操作符声明为私有，即可实现单例模式</li>
<li>避免用户的复制行为，可以将复制构造函数声明为private或者使用C++11中的delete语法。</li>
<li>实现线程安全的单例模式：上面实现中的GetInstance()不是线程安全的，因为在单例的静态初始化中存在竞争条件。如果碰巧有多个线程在同时调用该方法，那么就有可能被构造多次</li>
</ul>

<p>比较简单的做法是在存在竞争条件的地方加上互斥锁。这样做的代价是开销比较高。因为每次方法调用时都需要加锁。比较常用的做法是使用<code>双重检查锁定模式(DCLP)</code>。但是DCLP并不能保证在所有编译器和处理器内存模型下都能正常工作。如，共享内存的对称多处理器通常突发式提交内存写操作，这会造成不同线程的写操作重新排序。这种情况通常可以采用volatile解决，他能将读写操作同步到易变数据中，但这样在多线程环境下仍旧存在问题</p>

<p>抛出异常时，将暂停当前函数的执行，开始查找匹配的catch子句。首先检查throw本身是否在try块内部，如果是，检查与该try相关的catch子句，看是否可以处理该异常。如果不能处理，就退出当前函数，并且释放当前函数的内存并销毁局部对象，继续到上层的调用函数中查找，直到找到一个可以处理该异常的catch。这个过程称为栈展开（stack<br>
unwinding）。当处理该异常的catch结束之后，紧接着该catch之后的点继续执行。</p>

<p>1.为局部对象调用析构函数<br>
如上所述，在栈展开的过程中，会释放局部对象所占用的内存并运行类类型局部对象的析构函数。但需要注意的是，如果一个块通过new动态分配内存，并且在释放该资源之前发生异常，该块因异常而退出，那么在栈展开期间不会释放该资源，编译器不会删除该指针，这样就会造成内存泄露。</p>

<p>2.析构函数应该从不抛出异常<br>
在为某个异常进行栈展开的时候，析构函数如果又抛出自己的未经处理的另一个异常，将会导致调用标准库terminate函数。通常terminate函数将调用abort函数，导致程序的非正常退出。所以析构函数应该从不抛出异常。</p>

<p>3.异常与构造函数<br>
如果在构造函数对象时发生异常，此时该对象可能只是被部分构造，要保证能够适当的撤销这些已构造的成员。</p>

<p>4.未捕获的异常将会终止程序<br>
不能不处理异常。如果找不到匹配的catch，程序就会调用库函数terminate。</p>

<h2 id="toc_6">Adapt</h2>

<h2 id="toc_7">Bridge</h2>

<h2 id="toc_8">Composite</h2>

<h2 id="toc_9">Decorator</h2>

<h2 id="toc_10">Proxy</h2>

        
        
        <p class="article-more-link">
          
            <a href="/2016/09/01/Design-Mode#more">Read More</a>
          
       </p>
    </div>
    
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <!--
  <%- list_categories(item.categories, {
      show_count: false,
      class: 'article-category',
      style: 'none',
      separator: '►'
  }) %>
  -->
  
</div>


  <div class="article-tags">
  <!--
  <% var tags = [];
    item.tags.forEach(function(tag){
      tags.push('<a href="' + config.root + tag.path + '">' + tag.name + '</a>');
    }); %>-->
  <span></span> <!--<%- tags.join('') %>-->
  
  
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/09/01/Design-Mode#comments" class="ds-thread-count comments-count-link" data-thread-key="/2016/09/01/Design-Mode" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>
    </article>







  <nav id="page-nav" class="clearfix">
  <nav id="page-nav" class="clearfix">
    
    
    <span class="page-number current">1</span>
    
    
    
    <a class="page-number" href="/page2">2</a>
    
    
    
    <a class="page-number" href="/page3">3</a>
    
    
     
    <a class="extend next" rel="next" href="/page2">Next<span></span></a>
    
  </nav>
  </nav>

</div>
      
      
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/#Linux" title="Linux">Linux<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/#Jekyll" title="Jekyll">Jekyll<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/#Network" title="Network">Network<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/#Program" title="Program">Program<sup>9</sup></a></li>
		  
		
		  
			<li><a href="/categories/#Program-Document" title="Program-Document">Program-Document<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/#life" title="life">life<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/#C" title="C">C<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/#net" title="net">net<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/#linux" title="linux">linux<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/#driver" title="driver">driver<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/#jekyll" title="jekyll">jekyll<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/#tcp" title="tcp">tcp<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/#jacman" title="jacman">jacman<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/#cpp" title="cpp">cpp<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/#c" title="c">c<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/#udp" title="udp">udp<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/#program" title="program">program<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/#document" title="document">document<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/#PostgreSQL" title="PostgreSQL">PostgreSQL<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/#method" title="method">method<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/#Macro" title="Macro">Macro<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/#xx-net" title="xx-net">xx-net<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            <a href="http://coolshell.cn" target="_blank" title="CoolShell">CoolShell</a>
          </li>
        
          <li>
            <a href="http://lkkandsyf.github.com" target="_blank" title="liangkangkang's Blog">liangkangkang's Blog</a>
          </li>
        
    </ul>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=&verifier=&dpc=1"></iframe>
</div>


  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello, I'm liangkangkang in nsfocus. <br/>
			where there is a will,there is a way.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/lkkandsyf" target="_blank" class="icon-github" title="github"></a>
		
		
		
		<a href="https://twitter.com/liangkangkang" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		
		
		
		
		
		<a href="mailto:lkkforworld@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
	<!--
			<%  Array.prototype.S=String.fromCharCode(2);
			  Array.prototype.in_array=function(e){
    			var r=new RegExp(this.S+e+this.S);
    			return (r.test(this.S+this.join(this.S)+this.S));
				};
				var cc = new Array('by','by-nc','by-nc-nd','by-nc-sa','by-nd','by-sa','zero'); %>
		<% if (cc.in_array(theme.creative_commons) ) { %>
				<div class="cc-license">
          <a href="http://creativecommons.org/licenses/<%= theme.creative_commons %>/4.0" class="cc-opacity" target="_blank">
            <img src="<%- config.root %>img/cc-<%= theme.creative_commons %>.svg" alt="Creative Commons" />
          </a>
        </div>
    <% } %>
				-->

		<p class="copyright">
		Powered by <a href="http://jekyllrb.com" target="_blank" title="jekyll">jekyll</a> and Theme by <a href="https://github.com/simpleyyt/jekyll-jacman" target="_blank" title="Jacman">Jacman</a> © 2015 
		
		<a href="about" target="_blank" title="liangkangkang">liangkangkang</a>
		
		
		</p>
</div>
</footer>
    <script src="/assets/js/jquery-2.0.3.min.js"></script>
<script src="/assets/js/jquery.imagesloaded.min.js"></script>
<script src="/assets/js/gallery.js"></script>
<script src="/assets/js/jquery.qrcode-0.12.0.min.js"></script>
<script src="/assets/js/toc.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
    }
  });
});
</script>










<script type="text/javascript">
  var duoshuoQuery = {short_name:"liangkangang"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 



<!--

-->




<link rel="stylesheet" href="/assets/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/assets/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      if ($(this).hasClass('emoji')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>


<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-67994495-1', 'auto');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/assets/img/scrollup.png"/></a>
	</div>
	<script src="/assets/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->
  </body>
 </html>

